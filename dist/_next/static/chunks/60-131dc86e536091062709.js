"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{1397:function(e,n,t){t.d(n,{T:function(){return i},C:function(){return a}});var r=t(9704),i=function(){return(0,r.I0)()},a=r.v9},5761:function(e,n,t){t.d(n,{n:function(){return me}});var r=t(7294),i=t(1198),a=t(7905),s=t(1397),c=t(8253),o=t(2809),l=t(2939),u=t(6435),d=t(8052),f=t(5893),m=function(e){return e.disabled?null:(0,f.jsx)("button",{className:"btn btn-sm btn-dark",onClick:function(n){(0,d.f7)(e.text),n.currentTarget.blur()},children:(0,f.jsx)(u.R,{})})},h=function(e){var n=e.description;return void 0===n?null:"object"!==typeof n?(0,f.jsx)("div",{className:"debug-message",children:(0,f.jsx)("div",{className:"col-sm-12",children:(0,f.jsx)("pre",{children:n})})}):(0,f.jsx)("div",{className:"debug-message",children:(0,f.jsx)("div",{className:"col-sm-12",children:(0,f.jsx)("pre",{children:JSON.stringify(n,null,2)})})})},p=function(e){var n=e.defaultShow,t=e.description,i=e.title,a=e.timestamp,s=e.label,c=(0,r.useState)(void 0!==n&&n),o=c[0],u=c[1],p=a?i+a:i,j=void 0===t;return(0,f.jsxs)("div",{className:"border border-light rounded mb-1 bg-dark",children:[(0,f.jsxs)("div",{className:"d-flex justify-content-between align-items-center text-break",children:[(0,f.jsxs)("a",{className:"debug-title ".concat(j?"disabled":""),onClick:function(){return u(!o)},"aria-controls":p,"aria-expanded":o,children:[(0,f.jsx)("i",{className:"".concat(o?"arrow-bottom":"arrow-right"," ").concat(j?"disabled":"")})," ",a?(0,f.jsxs)("span",{className:"text-white-50 me-1",children:["[",(0,d.o5)(a),"]"]}):null,s,(0,f.jsx)("span",{children:i})]}),(0,f.jsx)("div",{className:"border-left",children:(0,f.jsx)(m,{text:"string"===typeof t?t:JSON.stringify(t,null,2),disabled:j})})]}),(0,f.jsx)(l.Z,{in:o,children:(0,f.jsx)("div",{className:"border-top",children:(0,f.jsx)(h,{description:t})})})]})};function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=function(e){var n=e.data,t=e.label,r=e.timestamp;return(0,f.jsx)(p,{title:t,timestamp:r,description:n,defaultShow:!0})},v=r.memo((function(e){return(0,f.jsx)(g,x({},e))})),b=function(){var e=(0,s.C)((function(e){return e.dataChannelMessages})),n=(0,s.C)((function(e){return e.debugFilterText})),t=e.filter((function(e){return n.split(" ").every((function(n){return""===n||0<=JSON.stringify(e).indexOf(n)}))}));return(0,f.jsx)("div",{className:"debug-messages",children:t.map((function(e){var n=e.label+e.timestamp;return(0,f.jsx)(v,x({},e),n)}))})},y=t(6986),C=t(4716),O=function(){var e=(0,s.C)((function(e){return e.debugFilterText})),n=(0,s.T)();return(0,f.jsx)(y.Z,{className:"form-inline debug-filter",controlId:"channelId",children:(0,f.jsx)(C.Z,{type:"text",placeholder:"Filter",value:e,onChange:function(e){n((0,c.eU)(e.target.value))},autoComplete:"off"})})};function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n=e.message,t=e.timestamp;return(0,f.jsx)(p,{title:n.title,timestamp:t,description:JSON.parse(n.description)})},k=r.memo((function(e){return(0,f.jsx)(w,N({},e))})),I=function(){var e=(0,s.C)((function(e){return e.logMessages})),n=(0,s.C)((function(e){return e.debugFilterText})),t=e.filter((function(e){return n.split(" ").every((function(n){return""===n||0<=JSON.stringify(e).indexOf(n)}))}));return(0,f.jsx)("div",{className:"debug-messages",children:t.map((function(e){return(0,f.jsx)(k,N({},e),e.message.title+e.timestamp)}))})};function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var S={websocket:"#00ff00",datachannel:"#ff00ff"},D=function(e){var n=e.text,t=Object.keys(S).includes(n)?S[n]:void 0;return(0,f.jsxs)("span",{className:"me-1",style:t?{color:t}:{},children:["[",n,"]"]})},P=function(e){var n=e.notify,t=n.transportType?(0,f.jsx)(D,{text:n.transportType}):null;return(0,f.jsx)(p,{title:n.message.event_type,timestamp:n.timestamp,description:n.message,label:t})},R=r.memo((function(e){return(0,f.jsx)(P,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e))})),M=function(){var e=(0,s.C)((function(e){return e.notifyMessages})),n=(0,s.C)((function(e){return e.debugFilterText})),t=e.filter((function(e){return n.split(" ").every((function(n){return""===n||0<=JSON.stringify(e).indexOf(n)}))}));return(0,f.jsx)("div",{className:"debug-messages",children:t.map((function(e){return(0,f.jsx)(R,{notify:e},e.message.type+e.timestamp)}))})};function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var F={websocket:"#00ff00",datachannel:"#ff00ff"},B=function(e){var n=e.text,t=Object.keys(F).includes(n)?F[n]:void 0;return(0,f.jsxs)("span",{style:t?{color:t}:{},children:["[",n,"]"]})},A=function(e){var n=e.push,t=n.transportType?(0,f.jsx)(B,{text:n.transportType}):null;return(0,f.jsx)(p,{title:n.message.type,timestamp:n.timestamp,description:n.message,label:t})},U=r.memo((function(e){return(0,f.jsx)(A,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e))})),V=function(){var e=(0,s.C)((function(e){return e.pushMessages})),n=(0,s.C)((function(e){return e.debugFilterText})),t=e.filter((function(e){return n.split(" ").every((function(n){return""===n||0<=JSON.stringify(e).indexOf(n)}))}));return(0,f.jsx)("div",{className:"debug-messages",children:t.map((function(e,n){var t="".concat(e.timestamp,"-").concat(n);return(0,f.jsx)(U,{ariaControls:t,push:e},t)}))})},_=t(469),J=t(5005),L=function(){var e=(0,r.useRef)(null),n=(0,r.useRef)(null),t=(0,s.C)((function(e){return e.soraContents.sora}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"d-flex",children:[(0,f.jsx)(y.Z,{className:"me-1",controlId:"sendDataChannelMessaging",children:(0,f.jsx)(_.Z,{name:"sendDataChannelMessaging",ref:e,children:t?t.messagingDataChannels.map((function(e){return(0,f.jsx)("option",{value:e.label,children:e.label},e.label)})):null})}),(0,f.jsx)(y.Z,{className:"flex-grow-1 me-1",controlId:"sendDataChannelMessaging",children:(0,f.jsx)(C.Z,{className:"flex-fill",placeholder:"sendDataChannelMessaging\u3092\u6307\u5b9a",type:"text",ref:n})}),(0,f.jsx)(y.Z,{className:"",controlId:"sendDataChannelMessaging",children:(0,f.jsx)(J.Z,{variant:"secondary",onClick:function(){if(null!==e.current&&null!==n.current){var r=e.current.value,i=n.current.value;try{i=JSON.parse(n.current.value)}catch(a){}t&&t.sendMessage(r,i)}},disabled:null===e.current||!e.current.value,children:"send"})})]}),(0,f.jsx)("pre",{className:"form-control mt-2",style:{color:"#fff",backgroundColor:"#222222",maxHeight:"250px"},children:t?JSON.stringify(t.messagingDataChannels,null,2):"\r\n"})]})};function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var z={websocket:"#00ff00",datachannel:"#ff00ff"},K=function(e){var n=e.text,t=Object.keys(z).includes(n)?z[n]:void 0;return(0,f.jsxs)("span",{className:"me-1",style:t?{color:t}:{},children:["[",n,"]"]})},W=function(e){var n=e.data,t=e.type,r=e.timestamp,i=e.transportType,a=i?(0,f.jsx)(K,{text:i}):null;return(0,f.jsx)(p,{title:t,timestamp:r,description:n,label:a})},q=r.memo((function(e){return(0,f.jsx)(W,G({},e))})),X=function(){var e=(0,s.C)((function(e){return e.signalingMessages})),n=(0,s.C)((function(e){return e.debugFilterText})),t=e.filter((function(e){return n.split(" ").every((function(n){return""===n||0<=JSON.stringify(e).indexOf(n)}))}));return(0,f.jsx)("div",{className:"debug-messages",children:t.map((function(e){var n=e.type+e.timestamp;return(0,f.jsx)(q,G({},e),n)}))})};function Q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $=function(e){return(0,f.jsx)(p,{title:"".concat(e.id,"(").concat(e.type,")"),timestamp:null,description:e})},ee=r.memo((function(e){return(0,f.jsx)($,Y({},e))})),ne=function(){var e=(0,s.C)((function(e){return e.soraContents.statsReport})),n=(0,s.C)((function(e){return e.debugFilterText})),t=e.filter((function(e){return n.split(" ").every((function(n){return""===n||0<=JSON.stringify(e).indexOf(n)}))}));return(0,f.jsx)("div",{className:"debug-messages",children:t.map((function(e){return(0,f.jsx)(ee,Y({},e),e.id)}))})};function te(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?te(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):te(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ie={signaling:"#ff00ff",notify:"#ffff00",push:"#98fb98",e2ee:"#00ffff",stats:"#ffc0cb"},ae=function(){return(0,f.jsx)("span",{className:"me-1",style:{color:"#00ff00"},children:"[websocket]"})},se=function(){return(0,f.jsx)("span",{className:"me-1",style:{color:"#ff8c00"},children:"[peerconnection]"})},ce=function(){return(0,f.jsx)("span",{className:"me-1",style:{color:"#bce2e8"},children:"[sora]"})},oe=function(){return(0,f.jsx)("span",{className:"me-1",style:{color:"#73b8e2"},children:"[sora-demo]"})},le=function(e){var n=e.label,t=e.id,r=n&&Object.keys(ie).includes(n)?ie[n]:void 0;return(0,f.jsxs)("span",{className:"me-1",style:r?{color:r}:{},children:["[datachannel]",n?"[".concat(n,"]"):"","number"===typeof t?"[".concat(t,"]"):""]})},ue=function(e){var n,t=e.timestamp,r=e.logType,i=e.dataChannelId,a=e.dataChannelLabel,s=e.type,c=e.data,o="".concat(s);return"websocket"===r?n=(0,f.jsx)(ae,{}):"datachannel"===r?n=(0,f.jsx)(le,{id:i,label:a}):"peerconnection"===r?n=(0,f.jsx)(se,{}):"sora"===r?n=(0,f.jsx)(ce,{}):"sora-demo"===r&&(n=(0,f.jsx)(oe,{})),(0,f.jsx)(p,{title:o,timestamp:t,description:c,label:n})},de=r.memo((function(e){return(0,f.jsx)(ue,re({},e))})),fe=function(){var e=(0,s.C)((function(e){return e.timelineMessages})),n=(0,s.C)((function(e){return e.debugFilterText})),t=e.filter((function(e){return n.split(" ").every((function(n){return""===n||0<=JSON.stringify(e).indexOf(n)}))}));return(0,f.jsx)("div",{className:"debug-messages",children:t.map((function(e){var n="".concat(e.timestamp,"-").concat(e.type);return(0,f.jsx)(de,re({},e),n)}))})},me=function(){var e=(0,s.C)((function(e){return e.debug})),n=(0,s.C)((function(e){return e.debugType})),t=(0,s.T)();if(!e)return null;return(0,f.jsx)("div",{className:"col-debug col-6",children:(0,f.jsxs)(i.Z,{id:"debug-tab",activeKey:n,defaultActiveKey:"timeline",onSelect:function(e){"log"!==e&&"notify"!==e&&"push"!==e&&"stats"!==e&&"timeline"!==e&&"signaling"!==e&&"messaging"!==e||t((0,c.pD)(e))},children:[(0,f.jsxs)(a.Z,{eventKey:"timeline",title:"Timeline",children:[(0,f.jsx)(O,{}),(0,f.jsx)(fe,{})]}),(0,f.jsxs)(a.Z,{eventKey:"signaling",title:"Signaling",children:[(0,f.jsx)(O,{}),(0,f.jsx)(X,{})]}),(0,f.jsxs)(a.Z,{eventKey:"notify",title:"Notfiy",children:[(0,f.jsx)(O,{}),(0,f.jsx)(M,{})]}),(0,f.jsxs)(a.Z,{eventKey:"push",title:"Push",children:[(0,f.jsx)(O,{}),(0,f.jsx)(V,{})]}),(0,f.jsxs)(a.Z,{eventKey:"stats",title:"Stats",children:[(0,f.jsx)(O,{}),(0,f.jsx)(ne,{})]}),(0,f.jsxs)(a.Z,{eventKey:"log",title:"Log",children:[(0,f.jsx)(O,{}),(0,f.jsx)(I,{})]}),(0,f.jsxs)(a.Z,{eventKey:"messaging",title:"Messaging",children:[(0,f.jsx)(O,{}),(0,f.jsx)(L,{}),(0,f.jsx)(b,{})]})]})})}},3473:function(e,n,t){t.d(n,{H:function(){return on}});var r=t(7294),i=t(1397),a=t(2809),s=t(3003),c=t(8253),o=t(5893);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var u=function(e){var n=(0,i.T)(),t="error"===e.type?"bg-danger":"bg-info";return(0,o.jsxs)(s.Z,{autohide:!0,delay:2e4,onClose:function(){n((0,c.b_)(e.timestamp))},children:[(0,o.jsx)(s.Z.Header,{className:"".concat(t," text-white"),children:(0,o.jsx)("strong",{className:"me-auto",children:e.title})}),(0,o.jsx)(s.Z.Body,{className:"bg-light",children:(0,o.jsx)("p",{className:"text-break font-weight-bold mb-0",children:e.message})})]})},d=function(){var e=(0,i.C)((function(e){return e.alertMessages}));return(0,o.jsx)("div",{className:"alert-messages",children:e.map((function(e){return(0,o.jsx)(u,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e),e.timestamp)}))})},f=function(){var e=(0,i.C)((function(e){return e.soraContents.connectionStatus})),n=(0,i.T)();return(0,o.jsx)("div",{className:"col-auto mb-1",children:(0,o.jsx)("input",{className:"btn btn-secondary",type:"button",name:"connect",defaultValue:"connect",onClick:function(){n((0,c.Yr)())},disabled:"disconnecting"===e||"connecting"===e})})},m=function(){var e=(0,i.C)((function(e){return e.soraContents.connectionStatus})),n=(0,i.T)();return(0,o.jsx)("div",{className:"col-auto mb-1",children:(0,o.jsx)("input",{className:"btn btn-secondary",type:"button",name:"disconnect",defaultValue:"disconnect",onClick:function(){n((0,c.E1)())},disabled:"disconnecting"===e||"connecting"===e})})},h=t(266),p=t(809),j=t.n(p);function x(e,n,t){return g.apply(this,arguments)}function g(){return(g=(0,h.Z)(j().mark((function e(n,t,r){var i,a,s,c,o,l,u,d;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=window.location.protocol,a="https:"==i?"443":"3000",s="https:"==i?"api":"",c="Sora_".concat(n,".").concat(t),o="".concat(i,"//").concat(window.location.hostname,":").concat(a,"/").concat(s),e.next=7,fetch(o,{method:"POST",body:JSON.stringify(r),headers:{Accept:"application/json","Content-Type":"application/json","x-sora-target":c},mode:"cors"});case 7:return l=e.sent,e.next=10,l.json();case 10:if(u=e.sent,l.ok){e.next=16;break}throw d="POST ".concat(o," ").concat(l.status," (").concat(l.statusText,") target:").concat(c),u.error_type&&(d+=" error_type: ".concat(u.error_type)),new Error(d);case 16:return e.abrupt("return",u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return x("20161101","StartRecording",{channel_id:e,expire_time:3600})}function b(e){return x("20161101","StopRecording",{channel_id:e})}function y(e,n,t,r){var i={channel_id:e,recv_connection_id:n,rid:t};return r&&(i.send_connection_id=r),x("20201005","RequestRtpStream",i)}function C(e,n,t){var r={channel_id:e,recv_connection_id:n};return t&&(r.send_connection_id=t),x("20201005","ResetRtpStream",r)}var O=function(e){var n=(0,i.C)((function(e){return e.soraContents.sora})),t=(0,i.C)((function(e){return e.channelId})),r=(0,i.T)(),a=function(){var i=(0,h.Z)(j().mark((function i(){var a;return j().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(null!==n&&void 0!==n&&n.connectionId){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,i.next=5,y(t,n.connectionId,e.rid);case 5:a=i.sent,r((0,c.du)("POST successed. response: ".concat(JSON.stringify(a)))),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(2),i.t0 instanceof Error&&r((0,c.i8)(i.t0.message));case 12:case"end":return i.stop()}}),i,null,[[2,9]])})));return function(){return i.apply(this,arguments)}}();return(0,o.jsx)("div",{className:"col-auto mb-1",children:(0,o.jsx)("input",{className:"btn btn-secondary",type:"button",name:"requestSimulcastRidTo".concat(e.rid.charAt(0).toUpperCase()+e.rid.slice(1)),defaultValue:"".concat(e.rid," rid"),onClick:a})})},Z=function(){var e=(0,i.C)((function(e){return e.soraContents.sora})),n=(0,i.C)((function(e){return e.channelId})),t=(0,i.T)(),r=function(){var r=(0,h.Z)(j().mark((function r(){var i;return j().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e&&void 0!==e&&e.connectionId){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,r.next=5,C(n,e.connectionId);case 5:i=r.sent,t((0,c.du)("POST successed. response: ".concat(JSON.stringify(i)))),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),r.t0 instanceof Error&&t((0,c.i8)(r.t0.message));case 12:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(){return r.apply(this,arguments)}}();return(0,o.jsx)("div",{className:"col-auto mb-1",children:(0,o.jsx)("input",{className:"btn btn-secondary",type:"button",name:"resetAllSimulcastRid",defaultValue:"reset rid",onClick:r})})},N=function(){var e=(0,i.C)((function(e){return e.channelId})),n=(0,i.T)(),t=function(){var t=(0,h.Z)(j().mark((function t(){var r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,n((0,c.du)("POST successed. response: ".concat(JSON.stringify(r)))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0 instanceof Error&&n((0,c.i8)(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return(0,o.jsx)("div",{className:"col-auto mb-1",children:(0,o.jsx)("input",{className:"btn btn-secondary",type:"button",name:"startRec",defaultValue:"start rec",onClick:t})})},w=function(){var e=(0,i.C)((function(e){return e.channelId})),n=(0,i.T)(),t=function(){var t=(0,h.Z)(j().mark((function t(){var r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b(e);case 3:r=t.sent,n((0,c.du)("POST successed. response: ".concat(JSON.stringify(r)))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0 instanceof Error&&n((0,c.i8)(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return(0,o.jsx)("div",{className:"col-auto mb-1",children:(0,o.jsx)("input",{className:"btn btn-secondary",type:"button",name:"stopRec",defaultValue:"stop rec",onClick:t})})},k=t(4051),I=t(1555),T=t(6986),S=t(8571),D=function(){var e=(0,i.C)((function(e){return e.audio})),n=(0,i.T)();return(0,o.jsx)(T.Z,{className:"form-inline",controlId:"audio",children:(0,o.jsx)(S.Z,{type:"switch",name:"audio",label:"audio",checked:e,onChange:function(e){n((0,c.$p)(e.target.checked))}})})},P=t(1341),R=t(469),M=t(4007),E=t(8052),F=function(){var e=(0,i.C)((function(e){return e.audioBitRate})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"audioBitRate",children:[(0,o.jsx)(P.Z,{children:"audioBitRate:"}),(0,o.jsx)(R.Z,{name:"audioBitRate",value:e,onChange:function(e){(0,E.nu)(e.target.value)&&n((0,c.VY)(e.target.value))},children:M.xR.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},B=function(){var e=(0,i.C)((function(e){return e.audioCodecType})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"audioBitRate",children:[(0,o.jsx)(P.Z,{children:"audioCodecType:"}),(0,o.jsx)(R.Z,{name:"audioCodecType",value:e,onChange:function(e){(0,E.yP)(e.target.value)&&n((0,c.PQ)(e.target.value))},children:M.o1.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},A=function(){var e=(0,i.C)((function(e){return e.autoGainControl})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"autoGainControl",children:[(0,o.jsx)(P.Z,{children:"autoGainControl:"}),(0,o.jsx)(R.Z,{name:"autoGainControl",value:e,onChange:function(e){(0,E.Ee)(e.target.value)&&n((0,c.yn)(e.target.value))},children:M.iN.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},U=function(){var e=(0,i.C)((function(e){return e.echoCancellation})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"echoCancellation",children:[(0,o.jsx)(P.Z,{children:"echoCancellation:"}),(0,o.jsx)(R.Z,{name:"echoCancellation",value:e,onChange:function(e){(0,E.Tp)(e.target.value)&&n((0,c.LN)(e.target.value))},children:M.PS.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},V=function(){var e=(0,i.C)((function(e){return e.echoCancellationType})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"echoCancellationType",children:[(0,o.jsx)(P.Z,{children:"echoCancellationType:"}),(0,o.jsx)(R.Z,{name:"echoCancellationType",value:e,onChange:function(e){(0,E.Gn)(e.target.value)&&n((0,c.lW)(e.target.value))},children:M.cJ.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},_=function(){var e=(0,i.C)((function(e){return e.noiseSuppression})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"noiseSuppression",children:[(0,o.jsx)(P.Z,{children:"noiseSuppression:"}),(0,o.jsx)(R.Z,{name:"noiseSuppression",value:e,onChange:function(e){(0,E.E7)(e.target.value)&&n((0,c.fj)(e.target.value))},children:M.ad.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},J=function(){var e=(0,i.C)((function(e){return e.displaySettings}));return(0,o.jsxs)(k.Z,{className:"form-row",xs:"auto",children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)(D,{})}),e.audioCodecType?(0,o.jsx)(I.Z,{children:(0,o.jsx)(B,{})}):null,e.audioBitRate?(0,o.jsx)(I.Z,{children:(0,o.jsx)(F,{})}):null,e.audioConstraints?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)(A,{})}),(0,o.jsx)(I.Z,{children:(0,o.jsx)(_,{})}),(0,o.jsx)(I.Z,{children:(0,o.jsx)(U,{})}),(0,o.jsx)(I.Z,{children:(0,o.jsx)(V,{})})]}):null]})},L=t(4716),H=function(){var e=(0,i.C)((function(e){return e.channelId})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"channelId",children:[(0,o.jsx)(P.Z,{children:"channelId:"}),(0,o.jsx)(L.Z,{type:"text",placeholder:"ChannelId\u3092\u6307\u5b9a",value:e,onChange:function(e){n((0,c.cA)(e.target.value))}})]})},G=function(){return(0,o.jsx)(k.Z,{className:"form-row",xs:"auto",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(H,{})})})},z=function(){var e=(0,i.T)();return(0,o.jsx)("div",{className:"col-auto mb-1",children:(0,o.jsx)("input",{className:"btn btn-outline-secondary",type:"button",name:"update-devices",defaultValue:"update-devices",onClick:function(){e((0,c.pI)())}})})},K=function(){var e=(0,i.C)((function(e){return e.audioInput})),n=(0,i.C)((function(e){return e.audioInputDevices})),t=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"audioInput",children:[(0,o.jsx)(P.Z,{children:"audioInput:"}),(0,o.jsx)(R.Z,{name:"audioInput",value:e,onChange:function(e){t((0,c.hS)(e.target.value)),t((0,c.Lb)())},disabled:0===n.length,children:n.map((function(e){return(0,o.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId)}))})]})},W=function(){var e=(0,i.C)((function(e){return e.audioOutput})),n=(0,i.C)((function(e){return e.audioOutputDevices})),t=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"audioOutput",children:[(0,o.jsx)(P.Z,{children:"audioOutput:"}),(0,o.jsx)(R.Z,{name:"audioOutput",value:e,onChange:function(e){t((0,c.SV)(e.target.value))},disabled:0===n.length,children:n.map((function(e){return(0,o.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId)}))})]})},q=function(){var e=(0,i.C)((function(e){return e.videoInput})),n=(0,i.C)((function(e){return e.videoInputDevices})),t=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"videoInput",children:[(0,o.jsx)(P.Z,{children:"videoInput:"}),(0,o.jsx)(R.Z,{name:"videoInput",value:e,onChange:function(e){t((0,c.lZ)(e.target.value)),t((0,c.Lb)())},disabled:0===n.length,children:n.map((function(e){return(0,o.jsx)("option",{value:e.deviceId,children:e.label},e.deviceId)}))})]})},X=function(){var e=(0,i.C)((function(e){return e.displaySettings}));return(0,o.jsxs)(k.Z,{className:"form-row",xs:"auto",children:[e.audioInput?(0,o.jsx)(I.Z,{children:(0,o.jsx)(K,{})}):null,e.videoInput?(0,o.jsx)(I.Z,{children:(0,o.jsx)(q,{})}):null,e.audioOutput?(0,o.jsx)(I.Z,{children:(0,o.jsx)(W,{})}):null,(0,o.jsx)(z,{})]})},Q=function(){var e=(0,i.C)((function(e){return e.audioTrack})),n=(0,i.T)();return(0,o.jsx)(T.Z,{className:"form-inline",controlId:"audioTrack",children:(0,o.jsx)(S.Z,{type:"switch",name:"audioTrack",label:"Enable audio track",checked:e,onChange:function(e){n((0,c.XP)(e.target.checked))}})})},Y=function(){var e=(0,i.C)((function(e){return e.cameraDevice})),n=(0,i.C)((function(e){return e.soraContents.sora})),t=(0,i.C)((function(e){return e.video})),r=!(n?n.video:t),a=(0,i.T)();return(0,o.jsx)(T.Z,{className:"form-inline",controlId:"cameraDevice",children:(0,o.jsx)(S.Z,{type:"switch",name:"cameraDevice",label:"Enable camera device",checked:e,onChange:function(e){a((0,c.gF)(e.target.checked))},disabled:r})})},$=function(){var e=(0,i.C)((function(e){return e.displayResolution})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"displayResolution",children:[(0,o.jsx)(P.Z,{children:"displayResolution:"}),(0,o.jsx)(R.Z,{name:"displayResolution",value:e,onChange:function(e){(0,E.ko)(e.target.value)&&n((0,c.I$)(e.target.value))},children:M.hJ.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},ee=function(){var e=(0,i.C)((function(e){return e.micDevice})),n=(0,i.C)((function(e){return e.soraContents.sora})),t=(0,i.C)((function(e){return e.audio})),r=!(n?n.audio:t),a=(0,i.T)();return(0,o.jsx)(T.Z,{className:"form-inline",controlId:"micDevice",children:(0,o.jsx)(S.Z,{type:"switch",name:"micDevice",label:"Enable mic device",checked:e,onChange:function(e){a((0,c.vX)(e.target.checked))},disabled:r})})},ne=function(){var e=(0,i.C)((function(e){return e.videoTrack})),n=(0,i.T)();return(0,o.jsx)(T.Z,{className:"form-inline",controlId:"videoTrack",children:(0,o.jsx)(S.Z,{type:"switch",name:"videoTrack",label:"Enable video track",checked:e,onChange:function(e){n((0,c.e_)(e.target.checked))}})})},te=function(){var e=(0,i.C)((function(e){return e.displaySettings}));return(0,o.jsxs)(k.Z,{className:"form-row",xs:"auto",children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)($,{})}),e.micDevice?(0,o.jsx)(I.Z,{children:(0,o.jsx)(ee,{})}):null,e.cameraDevice?(0,o.jsx)(I.Z,{children:(0,o.jsx)(Y,{})}):null,e.audioTrack?(0,o.jsx)(I.Z,{children:(0,o.jsx)(Q,{})}):null,e.videoTrack?(0,o.jsx)(I.Z,{children:(0,o.jsx)(ne,{})}):null]})},re=t(7684),ie=function(){var e=(0,i.C)((function(e){return e.mediaType})),n=(0,i.C)((function(e){return e.fakeVolume})),t=(0,i.T)();return"fakeMedia"!==e?null:(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"fakeVolume",children:[(0,o.jsx)(P.Z,{children:"fakeVolume:"}),(0,o.jsx)(re.Z.Range,{min:"0",max:"1",step:"0.1",value:n,onChange:function(e){t((0,c.eW)(e.target.value))}})]})},ae=function(e){var n=e.label,t=e.disabled,r=e.onChange,i=e.mediaType;return(0,o.jsx)(S.Z,{type:"radio",inline:!0,id:n,label:n,value:n,checked:i===n,onChange:r,disabled:t})},se=function(){var e=(0,i.C)((function(e){return e.soraContents})),n=(0,i.C)((function(e){return e.mediaType})),t=null!==e.sora,r=(0,i.T)(),a=function(e){(0,E.nm)(e.target.value)&&r((0,c.y5)(e.target.value))};return(0,o.jsxs)(T.Z,{className:"form-inline",children:[(0,o.jsx)(P.Z,{children:"mediaType:"}),(0,o.jsx)(ae,{label:"getUserMedia",mediaType:n,disabled:t,onChange:a}),(0,o.jsx)(ae,{label:"getDisplayMedia",mediaType:n,disabled:t,onChange:a}),(0,o.jsx)(ae,{label:"fakeMedia",mediaType:n,disabled:t,onChange:a})]})},ce=function(){return(0,o.jsxs)(k.Z,{xs:"auto",className:"form-row",children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)(se,{})}),(0,o.jsx)(I.Z,{children:(0,o.jsx)(ie,{})})]})},oe=t(2939),le=function(){var e=(0,i.C)((function(e){return e.enabledClientId})),n=(0,i.C)((function(e){return e.clientId})),t=(0,i.T)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.Z,{className:"form-row",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline",controlId:"enabledClientId",children:(0,o.jsx)(S.Z,{type:"switch",name:"enabledClientId",label:"clientId",checked:e,onChange:function(e){t((0,c.pv)(e.target.checked))}})})})}),e?(0,o.jsx)(k.Z,{children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline w-50",controlId:"clientId",children:(0,o.jsx)(L.Z,{className:"flex-fill",type:"text",placeholder:"ClientId\u3092\u6307\u5b9a",value:n,onChange:function(e){t((0,c.Xk)(e.target.value))}})})})}):null]})},ue=function(){var e=(0,i.C)((function(e){return e.ignoreDisconnectWebSocket})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"ignoreDisconnectWebSocket",children:[(0,o.jsx)(P.Z,{children:"ignoreDisconnectWebSocket:"}),(0,o.jsx)(R.Z,{name:"ignoreDisconnectWebSocket",value:e,onChange:function(e){(0,E.to)(e.target.value)&&n((0,c.b3)(e.target.value))},children:M.kt.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},de=function(){var e=(0,i.C)((function(e){return e.dataChannelSignaling})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"dataChannelSignaling",children:[(0,o.jsx)(P.Z,{children:"dataChannelSignaling:"}),(0,o.jsx)(R.Z,{name:"dataChannelSignaling",value:e,onChange:function(e){(0,E.ug)(e.target.value)&&n((0,c.Gc)(e.target.value))},children:M.l9.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},fe=function(){var e=(0,i.C)((function(e){return e.enabledDataChannel})),n=(0,i.T)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.Z,{className:"form-row",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline",controlId:"enabledDataChannel",children:(0,o.jsx)(S.Z,{type:"switch",name:"enabledDataChannel",label:"dataChannel",checked:e,onChange:function(e){n((0,c.rY)(e.target.checked))}})})})}),e?(0,o.jsxs)(k.Z,{xs:"auto",children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)(de,{})}),(0,o.jsx)(I.Z,{children:(0,o.jsx)(ue,{})})]}):null]})},me=function(){var e=(0,i.C)((function(e){return e.enabledDataChannelMessaging})),n=(0,i.C)((function(e){return e.dataChannelMessaging})),t=(0,i.T)(),r="dataChannelMessaging\u3092\u6307\u5b9a\n(\u4f8b)\n"+JSON.stringify([{label:"#spam",maxPacketLifeTime:10,ordered:!0,protocol:"efg",compress:!1,direction:"sendrecv"}],null,2);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.Z,{className:"form-row",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline",controlId:"enabledDataChannelMessaging",children:(0,o.jsx)(S.Z,{type:"switch",name:"enabledDataChannelMessaging",label:"dataChannelMessaging",checked:e,onChange:function(e){t((0,c.Bx)(e.target.checked))}})})})}),e?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(k.Z,{className:"form-row",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline w-50",controlId:"dataChannelMessaging",children:(0,o.jsx)(L.Z,{className:"flex-fill",as:"textarea",placeholder:r,value:n,onChange:function(e){t((0,c.Ll)(e.target.value))},rows:12})})})})}):null]})},he=t(6968),pe=function(){var e=(0,r.useState)(!1),n=e[0],t=e[1],a=(0,i.C)((function(e){return e.e2ee})),s=(0,i.T)();return(0,r.useEffect)((function(){a&&t(!1)}),[a]),(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"e2ee",children:[(0,o.jsx)(S.Z,{type:"switch",name:"e2ee",label:"e2ee",checked:a,onChange:function(e){e.target.checked&&t(!0),s((0,c.c0)(e.target.checked))}}),n?(0,o.jsx)(he.Z,{className:"spinner-status",variant:"primary",animation:"border",role:"status"}):null]})},je=function(){var e=(0,i.C)((function(e){return e.enabledMetadata})),n=(0,i.C)((function(e){return e.metadata})),t=(0,i.T)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.Z,{className:"form-row",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline",controlId:"enabledMetadata",children:(0,o.jsx)(S.Z,{type:"switch",name:"enabledMetadata",label:"metadata",checked:e,onChange:function(e){t((0,c.yq)(e.target.checked))}})})})}),e?(0,o.jsx)(k.Z,{children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline w-50",controlId:"metadata",children:(0,o.jsx)(L.Z,{className:"flex-fill",as:"textarea",placeholder:"Metadata\u3092\u6307\u5b9a",value:n,onChange:function(e){t((0,c.yC)(e.target.value))},rows:10})})})}):null]})},xe=function(){var e=(0,i.C)((function(e){return e.enabledSignalingNotifyMetadata})),n=(0,i.C)((function(e){return e.signalingNotifyMetadata})),t=(0,i.T)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.Z,{className:"form-row",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline",controlId:"enabledSignalingNotifyMetadata",children:(0,o.jsx)(S.Z,{type:"switch",name:"enabledSignalingNotifyMetadata",label:"signalingNotifyMetadata",checked:e,onChange:function(e){t((0,c.vq)(e.target.checked))}})})})}),e?(0,o.jsx)(k.Z,{children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline w-50",controlId:"signalingNotifyMetadata",children:(0,o.jsx)(L.Z,{className:"flex-fill",as:"textarea",placeholder:"signalingNotifyMetadata\u3092\u6307\u5b9a",value:n,onChange:function(e){t((0,c.H6)(e.target.value))},rows:10})})})}):null]})},ge=function(){var e=(0,i.C)((function(e){return e.enabledSignalingUrlCandidates})),n=(0,i.C)((function(e){return e.signalingUrlCandidates})),t=(0,i.T)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.Z,{className:"form-row",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline",controlId:"enabledSignalingUrlCandidates",children:(0,o.jsx)(S.Z,{type:"switch",name:"enabledSignalingUrlCandidates",label:"signalingUrlCandidates",checked:e,onChange:function(e){t((0,c.Nd)(e.target.checked))}})})})}),e?(0,o.jsx)(k.Z,{children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(T.Z,{className:"form-inline w-50",controlId:"signalingNotifyMetadata",children:(0,o.jsx)(L.Z,{className:"flex-fill",as:"textarea",placeholder:"signalingUrlCandidates\u3092\u6307\u5b9a",value:n.join("\n"),onChange:function(e){t((0,c.l7)(e.target.value.split("\n")))},rows:10})})})}):null]})},ve=function(){var e=[(0,i.C)((function(e){return e.e2ee})),(0,i.C)((function(e){return e.enabledClientId})),(0,i.C)((function(e){return e.enabledDataChannel})),(0,i.C)((function(e){return e.enabledDataChannelMessaging})),(0,i.C)((function(e){return e.enabledMetadata})),(0,i.C)((function(e){return e.enabledSignalingNotifyMetadata})),(0,i.C)((function(e){return e.enabledSignalingUrlCandidates}))].some((function(e){return e})),n=(0,r.useState)(!0),t=n[0],a=n[1];(0,r.useEffect)((function(){e&&a(!1)}),[e]);return(0,o.jsxs)(k.Z,{className:"form-row",children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)("a",{href:"#",className:t?"btn-collapse-options collapsed":"btn-collapse-options",onClick:function(e){e.preventDefault(),a(!t)},children:"Options"})}),(0,o.jsx)(oe.Z,{in:!t,children:(0,o.jsxs)("div",{children:[(0,o.jsx)(k.Z,{className:"form-row",children:(0,o.jsx)(I.Z,{children:(0,o.jsx)(pe,{})})}),(0,o.jsx)(le,{}),(0,o.jsx)(je,{}),(0,o.jsx)(xe,{}),(0,o.jsx)(fe,{}),(0,o.jsx)(ge,{}),(0,o.jsx)(me,{})]})})]})},be=function(){var e=(0,i.C)((function(e){return e.spotlightFocusRid})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"spotlightFocusRid",children:[(0,o.jsx)(P.Z,{children:"spotlightFocusRid:"}),(0,o.jsx)(R.Z,{value:e,onChange:function(e){(0,E.iF)(e.target.value)&&n((0,c.CV)(e.target.value))},children:M.I7.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},ye=function(){var e=(0,i.C)((function(e){return e.spotlightNumber})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"spotlightNumber",children:[(0,o.jsx)(P.Z,{children:"spotlightNumber:"}),(0,o.jsx)(R.Z,{value:e,onChange:function(e){(0,E.EQ)(e.target.value)&&n((0,c.TT)(e.target.value))},children:M.Xr.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},Ce=function(){var e=(0,i.C)((function(e){return e.spotlightUnfocusRid})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"spotlightUnfocusRid",children:[(0,o.jsx)(P.Z,{children:"spotlightUnfocusRid:"}),(0,o.jsx)(R.Z,{value:e,onChange:function(e){(0,E.iF)(e.target.value)&&n((0,c.qV)(e.target.value))},children:M.I7.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},Oe=function(){var e=(0,i.C)((function(e){return e.displaySettings}));return(0,o.jsxs)(k.Z,{xs:"auto",className:"form-row",children:[e.spotlightNumber?(0,o.jsx)(I.Z,{children:(0,o.jsx)(ye,{})}):null,e.spotlightFocusRid?(0,o.jsx)(I.Z,{children:(0,o.jsx)(be,{})}):null,e.spotlightUnfocusRid?(0,o.jsx)(I.Z,{children:(0,o.jsx)(Ce,{})}):null]})},Ze=function(){var e=(0,i.C)((function(e){return e.frameRate})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"frameRate",children:[(0,o.jsx)(P.Z,{children:"frameRate:"}),(0,o.jsx)(R.Z,{name:"frameRate",value:e,onChange:function(e){(0,E.F9)(e.target.value)&&n((0,c.co)(e.target.value))},children:M.YX.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},Ne=function(){var e=(0,i.C)((function(e){return e.resolution})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"resolution",children:[(0,o.jsx)(P.Z,{children:"resolution:"}),(0,o.jsx)(R.Z,{name:"resolution",value:e,onChange:function(e){(0,E.zM)(e.target.value)&&n((0,c.Ik)(e.target.value))},children:M.Vf.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},we=function(){var e=(0,i.C)((function(e){return e.simulcastRid})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"simulcastRid",children:[(0,o.jsx)(P.Z,{children:"simulcastRid:"}),(0,o.jsx)(R.Z,{name:"simulcastRid",value:e,onChange:function(e){(0,E.zG)(e.target.value)&&n((0,c.vM)(e.target.value))},children:M.WJ.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},ke=function(){var e=(0,i.C)((function(e){return e.video})),n=(0,i.T)();return(0,o.jsx)(T.Z,{className:"form-inline",controlId:"video",children:(0,o.jsx)(S.Z,{type:"switch",name:"video",label:"video",checked:e,onChange:function(e){n((0,c.ge)(e.target.checked))}})})},Ie=M.Q5.slice();Ie.splice(M.Q5.indexOf("15000")+1,0,"support-message");var Te=function(){var e=(0,i.C)((function(e){return e.videoBitRate})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"videoBitRate",children:[(0,o.jsx)(P.Z,{children:"videoBitRate:"}),(0,o.jsx)(R.Z,{name:"videoBitRate",value:e,onChange:function(e){(0,E.Uz)(e.target.value)&&n((0,c.as)(e.target.value))},children:Ie.map((function(e){var n=e;return""===e?n="\u672a\u6307\u5b9a":"support-message"===e&&(n="\u4ee5\u4e0b\u306f\u30b5\u30dd\u30fc\u30c8\u5916\u3067\u3059"),(0,o.jsx)("option",{value:e,disabled:"support-message"===e,children:n},e)}))})]})},Se=function(){var e=(0,i.C)((function(e){return e.videoCodecType})),n=(0,i.T)();return(0,o.jsxs)(T.Z,{className:"form-inline",controlId:"videoCodecType",children:[(0,o.jsx)(P.Z,{children:"videoCodecType:"}),(0,o.jsx)(R.Z,{name:"videoCodecType",value:e,onChange:function(e){(0,E.ou)(e.target.value)&&n((0,c.h2)(e.target.value))},children:M.Sh.map((function(e){return(0,o.jsx)("option",{value:e,children:""===e?"\u672a\u6307\u5b9a":e},e)}))})]})},De=function(){var e=(0,i.C)((function(e){return e.displaySettings}));return(0,o.jsxs)(k.Z,{className:"form-row",xs:"auto",children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)(ke,{})}),e.videoCodecType?(0,o.jsx)(I.Z,{children:(0,o.jsx)(Se,{})}):null,e.videoBitRate?(0,o.jsx)(I.Z,{children:(0,o.jsx)(Te,{})}):null,e.videoConstraints?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I.Z,{children:(0,o.jsx)(Ne,{})}),(0,o.jsx)(I.Z,{children:(0,o.jsx)(Ze,{})})]}):null,e.simulcastRid?(0,o.jsx)(I.Z,{children:(0,o.jsx)(we,{})}):null]})},Pe=t(6435),Re=function(e){return(0,o.jsxs)("div",{className:"d-flex align-items-center border border-secondary rounded mx-1",children:[(0,o.jsx)("p",{className:"mx-2 p-1",children:e.text}),(0,o.jsx)("div",{className:"border-left border-secondary",children:(0,o.jsx)("button",{className:"btn btn-sm btn-light",onClick:function(n){(0,E.f7)(e.text),n.currentTarget.blur()},children:(0,o.jsx)(Pe.R,{})})})]})},Me=function(e){return(0,o.jsxs)("div",{className:"d-flex align-items-center mb-1 video-status-inner",children:[e.connectionId?(0,o.jsx)(Re,{text:e.connectionId}):null,null!==e.clientId&&void 0!==e.clientId&&e.connectionId!==e.clientId?(0,o.jsx)(Re,{text:e.clientId}):null]})};function Ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var Fe=function(e){var n,t=e.displayResolution,i=e.stream,a=e.mute,s=e.audioOutput,c=e.setHeight,l=(0,r.useRef)(null),u=(0,E.fl)(t);return(0,r.useEffect)((function(){var e=new ResizeObserver((function(e){e.forEach((function(e){c(e.contentRect.height)}))}));return l.current&&(s&&i&&i.getAudioTracks().length>0&&l.current.setSinkId(s),e.observe(l.current)),function(){e.disconnect()}}),[]),(0,r.useEffect)((function(){l.current&&a&&(l.current.muted=!0)}),[a]),(0,r.useEffect)((function(){var e;l.current&&i?(i.getVideoTracks().forEach((function(n){e=n.enabled,n.enabled=!1})),l.current.onloadedmetadata=function(n){i.getVideoTracks().forEach((function(n){void 0!==e&&(n.enabled=e)}))},l.current.srcObject=i,s&&i.getAudioTracks().length>0&&l.current.setSinkId(s)):l.current&&null===i&&(l.current.srcObject=null)}),[i]),s&&null!==(n=l.current)&&void 0!==n&&n.setSinkId&&i&&i.getAudioTracks().length>0&&l.current.setSinkId(s),(0,o.jsx)("video",{autoPlay:!0,playsInline:!0,controls:!0,muted:a,ref:l,width:0<u.width?u.width:void 0,height:0<u.height?u.height:void 0})},Be=r.memo((function(e){return(0,o.jsx)(Fe,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ee(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e))}));function Ae(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ae(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ve=2.5,_e=10,Je="#CCCCCC";function Le(e,n,t){e.beginPath(),e.fillStyle=n,e.fillRect(0,t,25,_e),e.closePath()}function He(e,n){var t=Math.ceil(n/12.5),r=n-_e;Le(e,Je,r);for(var i=0;i<t;i++)Le(e,Je,r=r-_e-Ve)}var Ge=function(e){var n=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(0!==e.stream.getAudioTracks().length){var t=new(window.AudioContext||window.webkitAudioContext),r=t.createMediaStreamSource(e.stream),i=t.createAnalyser();i.fftSize=2048;var a=i.frequencyBinCount,s=new Uint8Array(a);r.connect(i);var c=null;return function e(){c=requestAnimationFrame(e),i.getByteTimeDomainData(s);var t=Array.from(s),r=Math.max.apply(null,t)-128,a=n.current;if(null!==a){var o=a.getContext("2d");null!==o&&(o.clearRect(0,0,25,a.height),o.save(),He(o,a.height),function(e,n,t){for(var r=n*t,i=Math.ceil(r/12.5),a=0;a<i;a++)Le(e,"#000000",n-_e*(a+1)-Ve*a)}(o,a.height,r/128),o.restore())}}(),function(){t&&t.close(),c&&cancelAnimationFrame(c)}}}),[]),(0,o.jsx)("canvas",{width:25,height:e.height,className:"volume-visualizer",ref:n})},ze=function(e){var n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=n.current;if(null!==e){var t=e.getContext("2d");null!==t&&(t.clearRect(0,0,25,e.height),t.save(),He(t,e.height),t.restore())}}),[]),(0,o.jsx)("canvas",{width:25,height:e.height,className:"volume-visualizer",ref:n})},Ke=r.memo((function(e){return e.micDevice&&0<e.stream.getAudioTracks().length?(0,o.jsx)(Ge,Ue({},e)):(0,o.jsx)(ze,Ue({},e))})),We=function(){var e=(0,r.useState)(0),n=e[0],t=e[1],a=(0,i.C)((function(e){return e.audioOutput})),s=(0,i.C)((function(e){return e.displayResolution})),c=(0,i.C)((function(e){return e.focusedSpotlightConnectionIds})),l=(0,i.C)((function(e){return e.soraContents.connectionId})),u=(0,i.C)((function(e){return e.soraContents.localMediaStream})),d=(0,i.C)((function(e){return e.micDevice})),f=l&&c[l];return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"d-flex",children:(0,o.jsxs)("div",{className:"d-flex flex-nowrap align-items-start video-wrapper"+(f?" spotlight-focused":""),children:[(0,o.jsx)(Be,{stream:u,setHeight:t,audioOutput:a,displayResolution:s,mute:!0}),null!==u?(0,o.jsx)(Ke,{micDevice:d,stream:u,height:n}):null]})})})},qe=function(){var e=(0,i.C)((function(e){return e.soraContents.connectionId})),n=(0,i.C)((function(e){return e.soraContents.clientId})),t=(0,i.C)((function(e){return e.role}));return(0,o.jsx)("div",{className:"row my-1",children:(0,o.jsxs)("div",{className:"col-auto",children:[(0,o.jsx)("div",{className:"video-status mb-1",children:null!==e||null!==n?(0,o.jsx)(Me,{connectionId:e,clientId:n}):null}),"recvonly"!==t?(0,o.jsx)(We,{}):null]})})},Xe=t(6311),Qe=function(e){var n=(0,i.C)((function(e){return e.soraContents.sora})),t=(0,i.C)((function(e){return e.channelId})),r=(0,i.T)(),a=function(){var i=(0,h.Z)(j().mark((function i(){var a;return j().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(null!==n&&void 0!==n&&n.connectionId){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,i.next=5,y(t,n.connectionId,e.rid,e.sendConnectionId);case 5:a=i.sent,r((0,c.du)("POST successed. response: ".concat(JSON.stringify(a)))),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(2),i.t0 instanceof Error&&r((0,c.i8)(i.t0.message));case 12:case"end":return i.stop()}}),i,null,[[2,9]])})));return function(){return i.apply(this,arguments)}}();return(0,o.jsx)("input",{className:"btn btn-secondary btn-sm mx-1",type:"button",name:"requestSimulcastRidTo".concat(e.rid.charAt(0).toUpperCase()+e.rid.slice(1)),defaultValue:"".concat(e.rid," rid"),onClick:a})},Ye=function(e){var n=(0,i.C)((function(e){return e.soraContents.sora})),t=(0,i.C)((function(e){return e.channelId})),r=(0,i.T)(),a=function(){var i=(0,h.Z)(j().mark((function i(){var a;return j().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(null!==n&&void 0!==n&&n.connectionId){i.next=2;break}return i.abrupt("return");case 2:return i.prev=2,i.next=5,C(t,n.connectionId,e.sendConnectionId);case 5:a=i.sent,r((0,c.du)("POST successed. response: ".concat(JSON.stringify(a)))),i.next=12;break;case 9:i.prev=9,i.t0=i.catch(2),i.t0 instanceof Error&&r((0,c.i8)(i.t0.message));case 12:case"end":return i.stop()}}),i,null,[[2,9]])})));return function(){return i.apply(this,arguments)}}();return(0,o.jsx)("input",{className:"btn btn-secondary btn-sm mx-1",type:"button",name:"resetRtpStream",defaultValue:"reset rid",onClick:a})};function $e(e,n,t){if(null!==n){var r=[];return"video"===t?r=n.getVideoTracks().map((function(e){return e.id})):"audio"===t&&(r=n.getAudioTracks().map((function(e){return e.id}))),e.find((function(e){if(e.id&&!e.id.match(/^RTCMediaStreamTrack/))return!1;if("trackIdentifier"in e){var n=e;return n.trackIdentifier&&r.includes(n.trackIdentifier)}return!1}))}}var en=function(e){var n=(0,i.C)((function(e){return e.soraContents.statsReport})),t=(0,i.C)((function(e){return e.soraContents.prevStatsReport})),r=$e(n,e.stream,e.type),a=$e(t,e.stream,e.type);if(!r)return null;var s=r.jitterBufferDelay,c=r.jitterBufferEmittedCount;a&&(s=r.jitterBufferDelay-a.jitterBufferDelay,c=r.jitterBufferEmittedCount-a.jitterBufferEmittedCount);var l=Math.floor(s/c*1e3),u="normal-jitter-buffer";return 500<l?u="critical-jitter-buffer":300<l?u="danger-jitter-buffer":100<l&&(u="warning-jitter-buffer"),(0,o.jsx)("div",{className:"btn btn-sm mx-1 ".concat(u),children:(0,o.jsxs)("span",{children:[e.type,": ",l]})})};function nn(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return tn(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tn(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==t.return||t.return()}finally{if(c)throw a}}}}function tn(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function rn(e,n){if(null===n)return[];var t,r=n.getTracks().map((function(e){return e.id})),i=[],a=nn(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if((!s.id||s.id.match(/^RTCMediaStreamTrack/))&&"trackIdentifier"in s){var c=s;c.trackIdentifier&&r.includes(c.trackIdentifier)&&i.push(c)}}}catch(o){a.e(o)}finally{a.f()}return i}var an=function(e){var n=(0,i.C)((function(e){return e.showStats})),t=(0,i.C)((function(e){return e.soraContents.statsReport})),r=(0,i.C)((function(e){return e.soraContents.prevStatsReport}));if(!n)return null;var a=rn(t,e.stream),s=rn(r,e.stream);return(0,o.jsx)(o.Fragment,{children:a.map((function(e){var n=0,t=0,r=s.find((function(n){return e.id===n.id}));return r&&(n=e.jitterBufferDelay-r.jitterBufferDelay,t=e.jitterBufferEmittedCount-r.jitterBufferEmittedCount),(0,o.jsx)("div",{children:(0,o.jsxs)("ul",{className:"mediastream-stats-report",children:[Object.entries(e).map((function(e){var n=(0,Xe.Z)(e,2),t=n[0],r=n[1];return(0,o.jsxs)("li",{children:[(0,o.jsxs)("strong",{children:[t,":"]})," ",r]},t)})),(0,o.jsxs)("li",{children:[(0,o.jsx)("strong",{children:"[jitterBufferDelay/jitterBufferEmittedCount_in_ms]"})," ",Math.floor(n/t*1e3)]})]})},e.id)}))})},sn=function(e){var n=(0,r.useState)(0),t=n[0],a=n[1],s=(0,i.C)((function(e){return e.audioOutput})),c=(0,i.C)((function(e){return e.displayResolution})),l=(0,i.C)((function(e){return e.focusedSpotlightConnectionIds})),u=(0,i.C)((function(e){return e.multistream})),d=(0,i.C)((function(e){return e.mute})),f=(0,i.C)((function(e){return e.simulcast})),m=(0,i.C)((function(e){return e.spotlight})),h=e.stream.id&&l[e.stream.id];return(0,o.jsxs)("div",{className:"col-auto",children:[(0,o.jsxs)("div",{className:"video-status",children:[(0,o.jsx)(Me,{connectionId:e.stream.id}),(0,o.jsxs)("div",{className:"d-flex align-items-center mb-1 video-status-inner",children:[(0,o.jsx)(en,{type:"audio",stream:e.stream}),(0,o.jsx)(en,{type:"video",stream:e.stream}),!m&&u&&f?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Qe,{rid:"r0",sendConnectionId:e.stream.id}),(0,o.jsx)(Qe,{rid:"r1",sendConnectionId:e.stream.id}),(0,o.jsx)(Qe,{rid:"r2",sendConnectionId:e.stream.id})]}):null,m&&u&&f?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Qe,{rid:"r0",sendConnectionId:e.stream.id}),(0,o.jsx)(Qe,{rid:"r1",sendConnectionId:e.stream.id}),(0,o.jsx)(Qe,{rid:"r2",sendConnectionId:e.stream.id}),(0,o.jsx)(Ye,{sendConnectionId:e.stream.id})]}):null]})]}),(0,o.jsxs)("div",{className:"d-flex flex-wrap align-items-start",children:[(0,o.jsxs)("div",{className:"d-flex flex-nowrap align-items-start video-wrapper"+(h?" spotlight-focused":""),children:[(0,o.jsx)(Be,{stream:e.stream,setHeight:a,mute:d,audioOutput:s,displayResolution:c}),(0,o.jsx)(Ke,{micDevice:!0,stream:e.stream,height:t})]}),(0,o.jsx)(an,{stream:e.stream})]})]})},cn=function(){var e=(0,i.C)((function(e){return e.soraContents.remoteMediaStreams}));return(0,o.jsx)("div",{className:"row my-2",children:e.map((function(e){return(0,o.jsx)(sn,{stream:e},e.id)}))})},on=function(){var e=(0,i.C)((function(e){return e.debug})),n=(0,i.C)((function(e){return e.role})),t=(0,i.C)((function(e){return e.spotlight})),r=(0,i.C)((function(e){return e.simulcast})),a=(0,i.C)((function(e){return e.displaySettings}));return(0,o.jsxs)("div",{className:e?"col-demo col-6":"col-demo col-12",children:[(0,o.jsx)(d,{}),a.mediaType?(0,o.jsx)(ce,{}):null,(0,o.jsx)(G,{}),(0,o.jsx)(J,{}),(0,o.jsx)(De,{}),(0,o.jsx)(Oe,{}),(0,o.jsx)(X,{}),(0,o.jsx)(te,{}),(0,o.jsx)(ve,{}),(0,o.jsxs)("div",{className:"row",children:[(0,o.jsx)(f,{}),(0,o.jsx)(m,{}),(0,o.jsx)(N,{}),(0,o.jsx)(w,{}),!t&&r&&"sendonly"!==n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O,{rid:"r0"}),(0,o.jsx)(O,{rid:"r1"}),(0,o.jsx)(O,{rid:"r2"})]}):null,t&&r&&"sendonly"!==n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O,{rid:"r0"}),(0,o.jsx)(O,{rid:"r1"}),(0,o.jsx)(O,{rid:"r2"}),(0,o.jsx)(Z,{})]}):null]}),(0,o.jsx)(qe,{}),"recvonly"===n||"sendrecv"===n?(0,o.jsx)(cn,{}):null]})}},5930:function(e,n,t){t.d(n,{$:function(){return u}});t(7294);var r=t(5602),i=t(8355),a=t(2923),s=t(1397),c=t(8253),o=t(5893),l=function(){var e=(0,s.C)((function(e){return e.debug})),n=(0,s.T)(),t=e?"btn btn-footer-debug-mode active":"btn btn-footer-debug-mode";return(0,o.jsx)("div",{children:(0,o.jsx)("button",{className:t,onClick:function(){n((0,c.ew)(!e))},children:"debug"})})},u=function(){var e=(0,s.C)((function(e){return e.version}));return(0,o.jsxs)("footer",{children:[(0,o.jsxs)(r.Z,{variant:"dark",bg:"sora",expand:"md",fixed:"bottom",children:[(0,o.jsx)(i.Z,{className:"me-auto"}),(0,o.jsx)(i.Z,{children:(0,o.jsxs)(r.Z.Collapse,{id:"navbar-collapse",children:[(0,o.jsxs)("a",{href:"https://github.com/shiguredo/sora-demo",className:"btn btn-outline-light m-1",children:["GitHub: shiguredo/sora-demo: ",e]}),(0,o.jsxs)("a",{href:"https://github.com/shiguredo/sora-js-sdk",className:"btn btn-outline-light m-1",children:["GitHub: shiguredo/sora-js-sdk: ",a.Z.version()]})]})})]}),(0,o.jsx)(l,{})]})}},1323:function(e,n,t){t.d(n,{F:function(){return a}});var r=t(9008),i=(t(7294),t(5893)),a=function(e){return(0,i.jsx)(r.default,{children:(0,i.jsxs)("title",{children:["Sora DEMO ",e.title]})})}},5013:function(e,n,t){t.d(n,{h:function(){return v}});var r=t(7294),i=t(5602),a=t(682),s=t(8355),c=t(1397),o=t(8253),l=t(5893),u=function(){var e=(0,c.T)();return(0,l.jsx)("input",{className:"btn btn-light btn-sm ms-1",type:"button",name:"copyUrl",defaultValue:"copy URL",onClick:function(){e((0,o.Hi)())}})},d=t(266),f=t(809),m=t.n(f),h=t(2923),p=t(3826);function j(e){var n=p.h.getState(),t={audio:n.audio,audioBitRate:n.audioBitRate,audioCodecType:n.audioCodecType,audioInput:n.audioInput,audioInputDevices:n.audioInputDevices,audioOutput:n.audioOutput,audioOutputDevices:n.audioOutputDevices,autoGainControl:n.autoGainControl,clientId:n.clientId,channelId:n.channelId,googCpuOveruseDetection:n.googCpuOveruseDetection,debug:n.debug,dataChannelSignaling:n.dataChannelSignaling,dataChannelMessaging:n.dataChannelMessaging,displayResolution:n.displayResolution,e2ee:n.e2ee,echoCancellation:n.echoCancellation,echoCancellationType:n.echoCancellationType,enabledClientId:n.enabledClientId,enabledDataChannel:n.enabledDataChannel,enabledDataChannelMessaging:n.enabledDataChannelMessaging,enabledMetadata:n.enabledMetadata,enabledSignalingNotifyMetadata:n.enabledSignalingNotifyMetadata,enabledSignalingUrlCandidates:n.enabledSignalingUrlCandidates,fakeVolume:n.fakeVolume,frameRate:n.frameRate,ignoreDisconnectWebSocket:n.ignoreDisconnectWebSocket,mediaType:n.mediaType,metadata:n.metadata,multistream:n.multistream,noiseSuppression:n.noiseSuppression,resolution:n.resolution,simulcast:n.simulcast,spotlight:n.spotlight,signalingNotifyMetadata:n.signalingNotifyMetadata,signalingUrlCandidates:n.signalingUrlCandidates,simulcastRid:n.simulcastRid,spotlightNumber:n.spotlightNumber,spotlightFocusRid:n.spotlightFocusRid,spotlightUnfocusRid:n.spotlightUnfocusRid,video:n.video,videoBitRate:n.videoBitRate,videoCodecType:n.videoCodecType,videoInput:n.videoInput,videoInputDevices:n.videoInputDevices,cameraDevice:n.cameraDevice,videoTrack:n.videoTrack,micDevice:n.micDevice,audioTrack:n.audioTrack,role:n.role};return{userAgent:navigator.userAgent,pageName:e,"sora-demo":n.version,"sora-js-sdk":h.Z.version(),parameters:t,timeline:n.timelineMessages.map((function(e){return{timestamp:e.timestamp,message:e}})),notify:n.notifyMessages,stats:n.soraContents.statsReport}}var x=function(e){var n=(0,r.useRef)(null),t=function(){var t=(0,d.Z)(m().mark((function t(){var r,i,a,s;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=j(e.pageName),i=JSON.stringify(r),a=new Blob([i],{type:"text/plain"}),window.URL=window.URL||window.webkitURL,n.current&&(s=(new Date).toISOString().replaceAll(":","_").replaceAll(".","_"),n.current.download="sora-demo-report-".concat(s,".json"),n.current.href=window.URL.createObjectURL(a),n.current.click());case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{className:"btn btn-light btn-sm ms-1",type:"button",name:"downloadReport",defaultValue:"Download report",onClick:t}),(0,l.jsx)("a",{ref:n,style:{display:"none"}})]})},g=function(){var e=(0,c.C)((function(e){return e.debug})),n=(0,c.T)(),t=["btn","btn-header-debug-mode","btn-sm","ms-1"];return e&&t.push("active"),(0,l.jsx)("input",{className:t.join(" "),type:"button",name:"debug",defaultValue:"debug",onClick:function(){n((0,o.ew)(!e))}})},v=function(e){var n=(0,c.C)((function(e){return e.soraContents.sora}));return(0,l.jsx)("header",{children:(0,l.jsx)(i.Z,{variant:"dark",bg:"sora",expand:"md",fixed:"top",children:(0,l.jsxs)(a.Z,{children:[(0,l.jsx)(i.Z.Brand,{href:"/",children:"Sora DEMO"}),(0,l.jsx)(s.Z,{children:(0,l.jsx)(i.Z.Text,{children:e.pageName})}),(0,l.jsx)(i.Z.Toggle,{"aria-controls":"navbar-collapse"}),(0,l.jsxs)(i.Z.Collapse,{id:"navbar-collapse",children:[(0,l.jsx)(s.Z,{className:"me-auto"}),(0,l.jsxs)(s.Z,{children:[(0,l.jsx)(i.Z.Text,{className:"py-0 my-1 mx-1",children:(0,l.jsx)("p",{className:"navbar-signaling-url border rounded",children:n?n.connectedSignalingUrl:"\u672a\u63a5\u7d9a"})}),(0,l.jsx)(i.Z.Text,{className:"py-0 my-1 mx-1",children:(0,l.jsx)(g,{})}),(0,l.jsx)(i.Z.Text,{className:"py-0 my-1 mx-1",children:(0,l.jsx)(x,{pageName:e.pageName})}),(0,l.jsx)(i.Z.Text,{className:"py-0 my-1 ms-1",children:(0,l.jsx)(u,{})})]})]})]})})})}},6435:function(e,n,t){t.d(n,{R:function(){return i}});t(7294);var r=t(5893),i=function(){return(0,r.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-clipboard",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M9.5 1h-3a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"})]})}}}]);